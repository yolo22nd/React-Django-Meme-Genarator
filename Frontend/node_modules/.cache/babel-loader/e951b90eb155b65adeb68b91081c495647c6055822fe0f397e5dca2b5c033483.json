{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\omtan\\\\OneDrive\\\\Desktop\\\\JS\\\\meme_generator\\\\src\\\\components\\\\Download.js\",\n  _s = $RefreshSig$();\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport FileSaver from \"file-saver\";\nimport AuthContext from '../context/AuthContext';\nimport { useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Download({\n  handleClose,\n  url,\n  open,\n  saved\n}) {\n  _s();\n  const navigate = useNavigate();\n  let {\n    authTokens,\n    logOutUser\n  } = useContext(AuthContext);\n  const saveManual = () => {\n    FileSaver.saveAs(url, \"meme.jpg\");\n  };\n  let save = async () => {\n    console.log(\"posting meme\");\n    let response = await fetch('http://127.0.0.1:8000/api/memes/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + String(authTokens.access)\n      },\n      body: JSON.stringify({\n        url: url\n      })\n    });\n    console.log(response);\n    setSaved(true);\n    navigate('/', {\n      state: {\n        saved: saved\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    onClose: handleClose,\n    open: open,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      align: \"center\",\n      children: \"Generated Meme\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: url,\n      height: 350,\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      style: {\n        alignSelf: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        onClick: saveManual,\n        children: \"Download Meme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        onClick: save,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(Download, \"8ejl/eF+mLqz+ROUm+svuFJlkzE=\", false, function () {\n  return [useNavigate];\n});\n_c = Download;\nexport default Download;\nvar _c;\n$RefreshReg$(_c, \"Download\");","map":{"version":3,"names":["DialogTitle","DialogActions","Button","Dialog","React","useEffect","useState","useContext","FileSaver","AuthContext","useNavigate","jwtDecode","jsxDEV","_jsxDEV","Download","handleClose","url","open","saved","_s","navigate","authTokens","logOutUser","saveManual","saveAs","save","console","log","response","fetch","method","headers","String","access","body","JSON","stringify","setSaved","state","onClose","children","align","fileName","_jsxFileName","lineNumber","columnNumber","src","height","alt","style","alignSelf","variant","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/omtan/OneDrive/Desktop/JS/meme_generator/src/components/Download.js"],"sourcesContent":["import DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport FileSaver from \"file-saver\";\r\nimport AuthContext from '../context/AuthContext'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\n\r\nfunction Download({handleClose, url, open, saved}) {\r\n    const navigate = useNavigate()\r\n\r\n    let {authTokens,logOutUser} = useContext(AuthContext)\r\n\r\n\r\n    const saveManual = () => {\r\n        FileSaver.saveAs(url, \"meme.jpg\");\r\n    };\r\n\r\n\r\n\r\n    let save = async()=>{\r\n\r\n        console.log(\"posting meme\")\r\n        let response = await fetch('http://127.0.0.1:8000/api/memes/', {\r\n            method:'POST',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'Authorization':'Bearer '+String(authTokens.access),\r\n            },\r\n            body: JSON.stringify({\r\n                url:url\r\n            }),\r\n        })\r\n        console.log(response)\r\n        setSaved(true)\r\n\r\n        navigate('/',{state:{saved:saved}})\r\n        \r\n    }\r\n\r\n    return (\r\n\r\n        <Dialog onClose={handleClose} open={open}>\r\n            <DialogTitle align=\"center\">Generated Meme</DialogTitle>\r\n            <img src={url} height={350} alt=\"\"/>\r\n            <DialogActions style={{alignSelf:\"center\"}} >\r\n                <Button variant=\"outlined\" color=\"secondary\" onClick={saveManual}>Download Meme</Button>\r\n                <Button variant=\"outlined\" color=\"secondary\" onClick={save}>Save</Button>\r\n{/* \r\n                {saved !== \"\" ?\r\n                        <>\r\n                        <saveBanner/>\r\n                        <>{console.log(\"meme genarated\")}</>\r\n                        </>\r\n                        : <></>} */}\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n\r\n}\r\n\r\nexport default Download;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}